{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\scandiwebproject\\\\clothesshop\\\\src\\\\product\\\\ProductPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport './style.css';\nimport { useQuery, gql } from \"@apollo/client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction beautifyName(name) {\n  //removes dashes from name, adds uppercase to first letter of each word\n  var newName = name[0].toUpperCase();\n\n  for (let i = 1; i < name.length; i++) {\n    if (name[i] === '-' && i !== name.length - 1) {\n      newName += \" \";\n      newName += name[i + 1].toUpperCase();\n      i += 1;\n    } else newName += name[i];\n  }\n\n  return newName;\n}\n\nfunction transformPrice(pricesArray, currentCurrency) {\n  //renders the right prace for an object, based on its array of prices\n  var Price = \"\";\n  var found = false;\n  pricesArray.forEach(price => {\n    if (price.currency === currentCurrency) {\n      Price += price.currency + price.amount;\n      found = true;\n    }\n  });\n  if (!found) return \"currency-not-found-in-database\";else {\n    Price = Price.replace(\"EUR\", \"€\");\n    Price = Price.replace(\"USD\", \"$\");\n    Price = Price.replace(\"JPY\", \"¥\");\n    return Price;\n  }\n}\n\nconst clothesQuery = gql`query getProduct{\n    category(input:{\n        title: \"clothes\",\n    }){\n        products{\n            prices{\n                currency\n                amount\n            },\n            category,\n            description,\n            attributes{\n                id,\n                items{\n                    displayValue,\n                    value,\n                    id\n                }\n            }\n            gallery,\n            id,\n            inStock\n        }\n    }  }`;\nconst techQuery = gql`query getProduct{\n    category(input:{\n        title: \"tech\",\n    }){\n        products{\n            prices{\n                currency\n                amount\n            },\n            category,\n            description,\n            attributes{\n                id,\n                items{\n                    displayValue,\n                    value,\n                    id\n                }\n            }\n            gallery,\n            id,\n            inStock\n        }\n    }  }`;\n\nconst ProductFromDatabase = props => {\n  _s();\n\n  const [size, setSize] = useState(\"n/a\");\n  var category, URL;\n\n  try {\n    category = window.location.hash.split(\"&\")[1];\n    URL = window.location.hash.split(\"&\")[2];\n  } catch {//pass\n  }\n\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(category === \"tech\" ? techQuery : clothesQuery);\n  if (loading) return \"Loading...\";\n  if (error) return \"Error...\";\n  var productName = \"n/a\";\n  var sideGallery = [];\n  var mainGallery = null;\n  var brand = \"no-brand-from-db\";\n  var price = \"n/a\";\n  var description = null;\n  var FOUND_OBJECT = false;\n  data.category.products.forEach(product => {\n    if (product.id === URL) {\n      FOUND_OBJECT = true;\n      productName = product.id; // description = product.description.replaceAll(\"<p>\",\"\").replaceAll(\"</p>\",\"\")\n\n      description = document.createElement(\"p\").innerHTML = product.description;\n      setTimeout(() => {\n        document.getElementsByClassName(\"description-container\")[0].innerHTML = description;\n      }, 500);\n      product.gallery.forEach(photo => {\n        sideGallery.push( /*#__PURE__*/_jsxDEV(\"img\", {\n          src: photo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 34\n        }, this));\n      });\n      mainGallery = sideGallery[0];\n      price = transformPrice(product.prices, props.currentCurrency);\n    }\n  });\n\n  if (!FOUND_OBJECT) {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"page-product\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-gallery-container\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Product not found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"page-product\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-gallery-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"side-gallery\",\n          children: sideGallery\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main-gallery\",\n          children: mainGallery\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-options-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-name\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: beautifyName(productName)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: brand\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"size-container\",\n          children: [\"SIZE:\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"size-boxes\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button\" + (size === 0 ? \" selected\" : \"\"),\n              disabled: true,\n              onClick: () => {\n                setSize(0);\n              },\n              children: \"XS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button\" + (size === 1 ? \" selected\" : \"\"),\n              onClick: () => {\n                setSize(1);\n              },\n              children: \"S\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button\" + (size === 2 ? \" selected\" : \"\"),\n              onClick: () => {\n                setSize(2);\n              },\n              children: \"M\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button\" + (size === 3 ? \" selected\" : \"\"),\n              onClick: () => {\n                setSize(3);\n              },\n              children: \"L\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"price-container\",\n          children: [\"PRICE:\", /*#__PURE__*/_jsxDEV(\"p\", {\n            children: price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addToCartBtn\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button\",\n            children: \"ADD TO CART\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"description-container\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(ProductFromDatabase, \"h+8pLvXOPhy4mzrjNPN8tw5mhkQ=\", false, function () {\n  return [useQuery];\n});\n\n_c = ProductFromDatabase;\n\nconst ProductPage = props => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(ProductFromDatabase, {\n      currentCurrency: props.currentCurrency\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_c2 = ProductPage;\nexport default ProductPage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ProductFromDatabase\");\n$RefreshReg$(_c2, \"ProductPage\");","map":{"version":3,"sources":["D:/react/scandiwebproject/clothesshop/src/product/ProductPage.js"],"names":["React","useState","useQuery","gql","beautifyName","name","newName","toUpperCase","i","length","transformPrice","pricesArray","currentCurrency","Price","found","forEach","price","currency","amount","replace","clothesQuery","techQuery","ProductFromDatabase","props","size","setSize","category","URL","window","location","hash","split","loading","error","data","productName","sideGallery","mainGallery","brand","description","FOUND_OBJECT","products","product","id","document","createElement","innerHTML","setTimeout","getElementsByClassName","gallery","photo","push","prices","ProductPage"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AAEA,OAAO,aAAP;AACA,SACIC,QADJ,EAEIC,GAFJ,QAGO,gBAHP;;;;AAKA,SAASC,YAAT,CAAsBC,IAAtB,EAA2B;AACvB;AACA,MAAIC,OAAO,GAAGD,IAAI,CAAC,CAAD,CAAJ,CAAQE,WAAR,EAAd;;AACA,OAAI,IAAIC,CAAC,GAAG,CAAZ,EAAgBA,CAAC,GAAGH,IAAI,CAACI,MAAzB,EAAkCD,CAAC,EAAnC,EAAsC;AAClC,QAAGH,IAAI,CAACG,CAAD,CAAJ,KAAY,GAAZ,IAAmBA,CAAC,KAAKH,IAAI,CAACI,MAAL,GAAY,CAAxC,EAA0C;AACtCH,MAAAA,OAAO,IAAI,GAAX;AACAA,MAAAA,OAAO,IAAID,IAAI,CAACG,CAAC,GAAC,CAAH,CAAJ,CAAUD,WAAV,EAAX;AACAC,MAAAA,CAAC,IAAE,CAAH;AACH,KAJD,MAMIF,OAAO,IAAID,IAAI,CAACG,CAAD,CAAf;AACP;;AACD,SAAOF,OAAP;AACH;;AAED,SAASI,cAAT,CAAwBC,WAAxB,EAAoCC,eAApC,EAAqD;AACjD;AACA,MAAIC,KAAK,GAAG,EAAZ;AACA,MAAIC,KAAK,GAAG,KAAZ;AACAH,EAAAA,WAAW,CAACI,OAAZ,CAAqBC,KAAD,IAAW;AAC3B,QAAIA,KAAK,CAACC,QAAN,KAAmBL,eAAvB,EAAwC;AACpCC,MAAAA,KAAK,IAAIG,KAAK,CAACC,QAAN,GAAiBD,KAAK,CAACE,MAAhC;AACAJ,MAAAA,KAAK,GAAG,IAAR;AACH;AAEJ,GAND;AAOA,MAAI,CAACA,KAAL,EACI,OAAO,gCAAP,CADJ,KAEK;AACDD,IAAAA,KAAK,GAAGA,KAAK,CAACM,OAAN,CAAc,KAAd,EAAqB,GAArB,CAAR;AACAN,IAAAA,KAAK,GAAGA,KAAK,CAACM,OAAN,CAAc,KAAd,EAAqB,GAArB,CAAR;AACAN,IAAAA,KAAK,GAAGA,KAAK,CAACM,OAAN,CAAc,KAAd,EAAqB,GAArB,CAAR;AACA,WAAON,KAAP;AACH;AACJ;;AAED,MAAMO,YAAY,GAAGjB,GAAI;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAvBA;AAyBA,MAAMkB,SAAS,GAAGlB,GAAI;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAvBA;;AAyBA,MAAMmB,mBAAmB,GAAIC,KAAD,IAAS;AAAA;;AACjC,QAAM,CAACC,IAAD,EAAMC,OAAN,IAAiBxB,QAAQ,CAAC,KAAD,CAA/B;AACA,MAAIyB,QAAJ,EAAaC,GAAb;;AACA,MAAG;AACED,IAAAA,QAAQ,GAAGE,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAX;AACAJ,IAAAA,GAAG,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAN;AACJ,GAHD,CAIA,MAAK,CACD;AACH;;AAED,QAAM;AAACC,IAAAA,OAAD;AAAUC,IAAAA,KAAV;AAAiBC,IAAAA;AAAjB,MAAyBhC,QAAQ,CAACwB,QAAQ,KAAG,MAAX,GAAoBL,SAApB,GAAgCD,YAAjC,CAAvC;AAEA,MAAGY,OAAH,EAAY,OAAO,YAAP;AACZ,MAAGC,KAAH,EAAU,OAAO,UAAP;AAEV,MAAIE,WAAW,GAAG,KAAlB;AACA,MAAIC,WAAW,GAAG,EAAlB;AACA,MAAIC,WAAW,GAAG,IAAlB;AACA,MAAIC,KAAK,GAAG,kBAAZ;AACA,MAAItB,KAAK,GAAG,KAAZ;AACA,MAAIuB,WAAW,GAAG,IAAlB;AAEA,MAAIC,YAAY,GAAG,KAAnB;AAEAN,EAAAA,IAAI,CAACR,QAAL,CAAce,QAAd,CAAuB1B,OAAvB,CAAgC2B,OAAD,IAAW;AACtC,QAAGA,OAAO,CAACC,EAAR,KAAehB,GAAlB,EAAsB;AAClBa,MAAAA,YAAY,GAAG,IAAf;AACAL,MAAAA,WAAW,GAAGO,OAAO,CAACC,EAAtB,CAFkB,CAGlB;;AACAJ,MAAAA,WAAW,GAAGK,QAAQ,CAACC,aAAT,CAAuB,GAAvB,EAA4BC,SAA5B,GAAwCJ,OAAO,CAACH,WAA9D;AACAQ,MAAAA,UAAU,CAAC,MAAI;AACXH,QAAAA,QAAQ,CAACI,sBAAT,CAAgC,uBAAhC,EAAyD,CAAzD,EAA4DF,SAA5D,GAAwEP,WAAxE;AACH,OAFS,EAER,GAFQ,CAAV;AAIAG,MAAAA,OAAO,CAACO,OAAR,CAAgBlC,OAAhB,CAAyBmC,KAAD,IAAS;AAC7Bd,QAAAA,WAAW,CAACe,IAAZ,eAAiB;AAAK,UAAA,GAAG,EAAED;AAAV;AAAA;AAAA;AAAA;AAAA,gBAAjB;AAAqC,OADzC;AAGAb,MAAAA,WAAW,GAAGD,WAAW,CAAC,CAAD,CAAzB;AAEApB,MAAAA,KAAK,GAAGN,cAAc,CAACgC,OAAO,CAACU,MAAT,EAAgB7B,KAAK,CAACX,eAAtB,CAAtB;AACH;AACJ,GAjBD;;AAmBA,MAAG,CAAC4B,YAAJ,EAAiB;AACb,wBAAQ;AAAS,MAAA,EAAE,EAAC,cAAZ;AAAA,6BACJ;AAAK,QAAA,SAAS,EAAC,2BAAf;AAAA,+BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADI;AAAA;AAAA;AAAA;AAAA,YAAR;AAMH;;AAGD,sBAAM;AAAA,2BACF;AAAS,MAAA,EAAE,EAAC,cAAZ;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,2BAAf;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA,oBACKJ;AADL;AAAA;AAAA;AAAA;AAAA,gBADJ,eAKI;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA,oBACKC;AADL;AAAA;AAAA;AAAA;AAAA,gBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAWI;AAAK,QAAA,SAAS,EAAC,2BAAf;AAAA,gCAEI;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA,kCACI;AAAA,sBAAKjC,YAAY,CAAC+B,WAAD;AAAjB;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA,sBAAKG;AAAL;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAOI;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA,2CAEI;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA,oCACI;AAAQ,cAAA,SAAS,EAAE,YAAYd,IAAI,KAAG,CAAP,GAAW,WAAX,GAAyB,EAArC,CAAnB;AAA6D,cAAA,QAAQ,MAArE;AAAsE,cAAA,OAAO,EAAE,MAAI;AAACC,gBAAAA,OAAO,CAAC,CAAD,CAAP;AAAW,eAA/F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAQ,cAAA,SAAS,EAAE,YAAYD,IAAI,KAAG,CAAP,GAAW,WAAX,GAAyB,EAArC,CAAnB;AAA6D,cAAA,OAAO,EAAE,MAAI;AAACC,gBAAAA,OAAO,CAAC,CAAD,CAAP;AAAW,eAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAGI;AAAQ,cAAA,SAAS,EAAE,YAAYD,IAAI,KAAG,CAAP,GAAW,WAAX,GAAyB,EAArC,CAAnB;AAA6D,cAAA,OAAO,EAAE,MAAI;AAACC,gBAAAA,OAAO,CAAC,CAAD,CAAP;AAAW,eAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ,eAII;AAAQ,cAAA,SAAS,EAAE,YAAYD,IAAI,KAAG,CAAP,GAAW,WAAX,GAAyB,EAArC,CAAnB;AAA6D,cAAA,OAAO,EAAE,MAAI;AAACC,gBAAAA,OAAO,CAAC,CAAD,CAAP;AAAW,eAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPJ,eAiBI;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA,4CAEI;AAAA,sBAAIT;AAAJ;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjBJ,eAsBI;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA,iCACI;AAAQ,YAAA,SAAS,EAAC,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAtBJ,eA0BI;AAAK,UAAA,SAAS,EAAC,uBAAf;AAAA,iCACI;AAAA,sBAAIuB;AAAJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBA1BJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAXJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADE,mBAAN;AA4CH,CAlGD;;GAAMjB,mB;UAW6BpB,Q;;;KAX7BoB,mB;;AAqGN,MAAM+B,WAAW,GAAI9B,KAAD,IAAS;AAEzB,sBAAO;AAAA,2BACH,QAAC,mBAAD;AAAqB,MAAA,eAAe,EAAEA,KAAK,CAACX;AAA5C;AAAA;AAAA;AAAA;AAAA;AADG,mBAAP;AAGH,CALD;;MAAMyC,W;AAON,eAAeA,WAAf","sourcesContent":["import React, {useState} from \"react\";\r\n\r\nimport './style.css'\r\nimport {\r\n    useQuery,\r\n    gql\r\n} from \"@apollo/client\";\r\n\r\nfunction beautifyName(name){\r\n    //removes dashes from name, adds uppercase to first letter of each word\r\n    var newName = name[0].toUpperCase()\r\n    for(let i = 1 ; i < name.length ; i++){\r\n        if(name[i] === '-' && i !== name.length-1){\r\n            newName += \" \"\r\n            newName += name[i+1].toUpperCase()\r\n            i+=1\r\n        }\r\n        else\r\n            newName += name[i]\r\n    }\r\n    return newName\r\n}\r\n\r\nfunction transformPrice(pricesArray,currentCurrency) {\r\n    //renders the right prace for an object, based on its array of prices\r\n    var Price = \"\"\r\n    var found = false;\r\n    pricesArray.forEach((price) => {\r\n        if (price.currency === currentCurrency) {\r\n            Price += price.currency + price.amount\r\n            found = true;\r\n        }\r\n\r\n    })\r\n    if (!found)\r\n        return \"currency-not-found-in-database\"\r\n    else {\r\n        Price = Price.replace(\"EUR\", \"€\")\r\n        Price = Price.replace(\"USD\", \"$\")\r\n        Price = Price.replace(\"JPY\", \"¥\")\r\n        return Price\r\n    }\r\n}\r\n\r\nconst clothesQuery = gql`query getProduct{\r\n    category(input:{\r\n        title: \"clothes\",\r\n    }){\r\n        products{\r\n            prices{\r\n                currency\r\n                amount\r\n            },\r\n            category,\r\n            description,\r\n            attributes{\r\n                id,\r\n                items{\r\n                    displayValue,\r\n                    value,\r\n                    id\r\n                }\r\n            }\r\n            gallery,\r\n            id,\r\n            inStock\r\n        }\r\n    }  }`\r\n\r\nconst techQuery = gql`query getProduct{\r\n    category(input:{\r\n        title: \"tech\",\r\n    }){\r\n        products{\r\n            prices{\r\n                currency\r\n                amount\r\n            },\r\n            category,\r\n            description,\r\n            attributes{\r\n                id,\r\n                items{\r\n                    displayValue,\r\n                    value,\r\n                    id\r\n                }\r\n            }\r\n            gallery,\r\n            id,\r\n            inStock\r\n        }\r\n    }  }`\r\n\r\nconst ProductFromDatabase = (props)=>{\r\n    const [size,setSize] = useState(\"n/a\")\r\n    var category,URL\r\n    try{\r\n         category = window.location.hash.split(\"&\")[1]\r\n         URL = window.location.hash.split(\"&\")[2]\r\n    }\r\n    catch{\r\n        //pass\r\n    }\r\n\r\n    const {loading, error, data} = useQuery(category===\"tech\" ? techQuery : clothesQuery)\r\n\r\n    if(loading) return \"Loading...\";\r\n    if(error) return \"Error...\"\r\n\r\n    var productName = \"n/a\";\r\n    var sideGallery = [];\r\n    var mainGallery = null;\r\n    var brand = \"no-brand-from-db\"\r\n    var price = \"n/a\"\r\n    var description = null;\r\n\r\n    var FOUND_OBJECT = false;\r\n\r\n    data.category.products.forEach((product)=>{\r\n        if(product.id === URL){\r\n            FOUND_OBJECT = true\r\n            productName = product.id\r\n            // description = product.description.replaceAll(\"<p>\",\"\").replaceAll(\"</p>\",\"\")\r\n            description = document.createElement(\"p\").innerHTML = product.description;\r\n            setTimeout(()=>{\r\n                document.getElementsByClassName(\"description-container\")[0].innerHTML = description\r\n            },500)\r\n\r\n            product.gallery.forEach((photo)=>{\r\n                sideGallery.push(<img src={photo}/>)})\r\n\r\n            mainGallery = sideGallery[0]\r\n\r\n            price = transformPrice(product.prices,props.currentCurrency)\r\n        }\r\n    })\r\n\r\n    if(!FOUND_OBJECT){\r\n        return  <section id=\"page-product\">\r\n            <div className=\"product-gallery-container\">\r\n                <p>Product not found.</p>\r\n            </div>\r\n        </section>\r\n\r\n    }\r\n\r\n\r\n    return<>\r\n        <section id=\"page-product\">\r\n            <div className=\"product-gallery-container\">\r\n                <div className=\"side-gallery\">\r\n                    {sideGallery}\r\n                </div>\r\n\r\n                <div className=\"main-gallery\">\r\n                    {mainGallery}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"product-options-container\">\r\n\r\n                <div className=\"product-name\">\r\n                    <h2>{beautifyName(productName)}</h2>\r\n                    <h3>{brand}</h3>\r\n                </div>\r\n\r\n                <div className=\"size-container\">\r\n                    SIZE:\r\n                    <div className=\"size-boxes\">\r\n                        <button className={\"button\" + (size===0 ? \" selected\" : \"\")} disabled onClick={()=>{setSize(0)}}>XS</button>\r\n                        <button className={\"button\" + (size===1 ? \" selected\" : \"\")} onClick={()=>{setSize(1)}}>S</button>\r\n                        <button className={\"button\" + (size===2 ? \" selected\" : \"\")} onClick={()=>{setSize(2)}}>M</button>\r\n                        <button className={\"button\" + (size===3 ? \" selected\" : \"\")} onClick={()=>{setSize(3)}}>L</button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"price-container\">\r\n                    PRICE:\r\n                    <p>{price}</p>\r\n                </div>\r\n\r\n                <div className=\"addToCartBtn\">\r\n                    <button className=\"button\">ADD TO CART</button>\r\n                </div>\r\n\r\n                <div className=\"description-container\">\r\n                    <p>{description}</p>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        </>\r\n}\r\n\r\n\r\nconst ProductPage = (props)=>{\r\n\r\n    return(<>\r\n        <ProductFromDatabase currentCurrency={props.currentCurrency}/>\r\n        </>)\r\n}\r\n\r\nexport default ProductPage"]},"metadata":{},"sourceType":"module"}